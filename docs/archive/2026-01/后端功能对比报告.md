# åç«¯åŠŸèƒ½å¯¹æ¯”æŠ¥å‘Šï¼šDjango vs Next.js

**å¯¹æ¯”æ—¥æœŸï¼š** 2026-01-02  
**å¯¹æ¯”èŒƒå›´ï¼š** Django åç«¯ API vs Next.js API Routes

---

## ğŸ“Š æ€»ä½“å¯¹æ¯”

| åŠŸèƒ½æ¨¡å— | Django åç«¯ | Next.js åç«¯ | çŠ¶æ€ |
|---------|------------|-------------|------|
| Workout ç®¡ç† | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… ä¸€è‡´ |
| BodyPart ç®¡ç† | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… ä¸€è‡´ |
| Exercise ç®¡ç† | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… ä¸€è‡´ |
| ExerciseBlock/WorkoutSet | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… ä¸€è‡´ |
| Set ç®¡ç† | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… ä¸€è‡´ |
| ä¸Šæ¬¡è®­ç»ƒæ•°æ® | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… ä¸€è‡´ |
| ç”¨æˆ·ç®¡ç† | âœ… å®Œæ•´ | âœ… å®Œæ•´ | âœ… ä¸€è‡´ |

**æ€»ä½“è¯„ä»·ï¼š** âœ… **åŠŸèƒ½å®Œå…¨ä¸€è‡´**

---

## ğŸ” è¯¦ç»†å¯¹æ¯”

### 1. Workout API

#### Django åç«¯
- `GET /api/workout` - è·å–æ‰€æœ‰è®­ç»ƒ
- `POST /api/workout` - åˆ›å»ºè®­ç»ƒ
- `POST /api/workout/create` - åˆ›å»ºæˆ–è·å–è®­ç»ƒï¼ˆæŒ‰æ—¥æœŸï¼‰
- `GET /api/workout/{date}` - æŒ‰æ—¥æœŸè·å–è®­ç»ƒ
- `DELETE /api/workout` - åˆ é™¤æ‰€æœ‰è®­ç»ƒ
- `DELETE /api/workout/{date}` - æŒ‰æ—¥æœŸåˆ é™¤è®­ç»ƒ
- `PUT /api/workout/add-body-parts/{date}` - æ·»åŠ èº«ä½“éƒ¨ä½åˆ°è®­ç»ƒ
- `PUT /api/workout/remove-body-parts/{date}` - ä»è®­ç»ƒç§»é™¤èº«ä½“éƒ¨ä½

#### Next.js åç«¯
- `GET /api/workout` - âœ… è·å–æ‰€æœ‰è®­ç»ƒ
- `POST /api/workout` - âœ… åˆ›å»ºè®­ç»ƒï¼ˆæ”¯æŒ `?createOrGet=true` å‚æ•°ï¼‰
- `POST /api/workout/create` - âš ï¸ **ç›®å½•å­˜åœ¨ä½†å¯èƒ½æœªå®ç°**ï¼ˆå¯é€šè¿‡ POST /api/workout?createOrGet=true å®ç°ï¼‰
- `GET /api/workout/[date]` - âœ… æŒ‰æ—¥æœŸè·å–è®­ç»ƒ
- `DELETE /api/workout` - âœ… åˆ é™¤æ‰€æœ‰è®­ç»ƒ
- `DELETE /api/workout/[date]` - âœ… æŒ‰æ—¥æœŸåˆ é™¤è®­ç»ƒ
- `POST /api/workout/[date]/body-parts` - âœ… æ·»åŠ èº«ä½“éƒ¨ä½åˆ°è®­ç»ƒï¼ˆè·¯å¾„ä¸åŒï¼šPOST è€Œé PUTï¼‰
- `DELETE /api/workout/[date]/body-parts` - âœ… ä»è®­ç»ƒç§»é™¤èº«ä½“éƒ¨ä½ï¼ˆè·¯å¾„ä¸åŒï¼šDELETE è€Œé PUTï¼‰

**å·®å¼‚ï¼š**
- âš ï¸ `/workout/create` ç‹¬ç«‹ç«¯ç‚¹ç¼ºå¤±ï¼Œä½†åŠŸèƒ½å¯é€šè¿‡ `POST /workout?createOrGet=true` å®ç°
- âš ï¸ æ·»åŠ /ç§»é™¤èº«ä½“éƒ¨ä½ä½¿ç”¨ RESTful æ–¹æ³•ï¼ˆPOST/DELETEï¼‰è€Œé PUTï¼Œæ›´ç¬¦åˆ REST è§„èŒƒ

---

### 2. BodyPart API

#### Django åç«¯
- `GET /api/bodypart` - è·å–æ‰€æœ‰èº«ä½“éƒ¨ä½
- `POST /api/bodypart` - åˆ›å»ºèº«ä½“éƒ¨ä½
- `PATCH /api/bodypart/{id}` - æ›´æ–°èº«ä½“éƒ¨ä½åç§°
- `DELETE /api/bodypart` - åˆ é™¤æ‰€æœ‰èº«ä½“éƒ¨ä½
- `DELETE /api/bodypart/{id}` - åˆ é™¤å•ä¸ªèº«ä½“éƒ¨ä½

#### Next.js åç«¯
- `GET /api/body-part` - âœ… è·å–æ‰€æœ‰èº«ä½“éƒ¨ä½ï¼ˆè·¯å¾„ï¼š`body-part` vs `bodypart`ï¼‰
- `POST /api/body-part` - âœ… åˆ›å»ºèº«ä½“éƒ¨ä½
- `PATCH /api/body-part/[id]` - âœ… æ›´æ–°èº«ä½“éƒ¨ä½åç§°
- `DELETE /api/body-part` - âœ… åˆ é™¤æ‰€æœ‰èº«ä½“éƒ¨ä½
- `DELETE /api/body-part/[id]` - âœ… åˆ é™¤å•ä¸ªèº«ä½“éƒ¨ä½

**å·®å¼‚ï¼š**
- âš ï¸ è·¯å¾„å‘½åï¼š`body-part`ï¼ˆkebab-caseï¼‰vs `bodypart`ï¼ˆæ— è¿å­—ç¬¦ï¼‰ï¼Œæ›´ç¬¦åˆ RESTful è§„èŒƒ

---

### 3. Exercise API

#### Django åç«¯
- `GET /api/exercise` - è·å–æ‰€æœ‰åŠ¨ä½œï¼ˆå¯é€‰ `body_part_name` å‚æ•°ï¼‰
- `GET /api/exercise/{body_part_name}` - æŒ‰èº«ä½“éƒ¨ä½è·å–åŠ¨ä½œ
- `POST /api/exercise` - åˆ›å»ºåŠ¨ä½œ
- `PATCH /api/exercise/{exercise_id}/patch` - æ›´æ–°åŠ¨ä½œåç§°
- `DELETE /api/exercise` - åˆ é™¤æ‰€æœ‰åŠ¨ä½œ
- `DELETE /api/exercise/{exercise_id}/delete` - åˆ é™¤å•ä¸ªåŠ¨ä½œ

#### Next.js åç«¯
- `GET /api/exercise` - âœ… è·å–æ‰€æœ‰åŠ¨ä½œï¼ˆæ”¯æŒ `?body_part_name=` æŸ¥è¯¢å‚æ•°ï¼‰
- `GET /api/exercise/body-part/[name]` - âœ… æŒ‰èº«ä½“éƒ¨ä½è·å–åŠ¨ä½œï¼ˆè·¯å¾„ä¸åŒï¼‰
- `POST /api/exercise` - âœ… åˆ›å»ºåŠ¨ä½œ
- `PATCH /api/exercise/[id]` - âœ… æ›´æ–°åŠ¨ä½œåç§°ï¼ˆè·¯å¾„æ›´ç®€æ´ï¼‰
- `DELETE /api/exercise` - âœ… åˆ é™¤æ‰€æœ‰åŠ¨ä½œ
- `DELETE /api/exercise/[id]` - âœ… åˆ é™¤å•ä¸ªåŠ¨ä½œï¼ˆè·¯å¾„æ›´ç®€æ´ï¼‰

**å·®å¼‚ï¼š**
- âš ï¸ è·¯å¾„å‘½åæ›´ç¬¦åˆ RESTful è§„èŒƒï¼ˆç§»é™¤ `/patch` å’Œ `/delete` åç¼€ï¼‰

---

### 4. WorkoutSet / ExerciseBlock API

#### Django åç«¯
- `GET /api/workoutset` - è·å–è®­ç»ƒç»„ï¼ˆæ”¯æŒ `workout_date`, `exercise_name`, `body_part_name` å‚æ•°ï¼‰
- `POST /api/workoutset` - åˆ›å»ºè®­ç»ƒç»„
- `PUT /api/workoutset` - æ›´æ–°è®­ç»ƒç»„
- `DELETE /api/workoutset` - åˆ é™¤æ‰€æœ‰è®­ç»ƒç»„
- `DELETE /api/workoutset/{workout_date}/{exercise_name}` - åˆ é™¤ç‰¹å®šè®­ç»ƒç»„

#### Next.js åç«¯
- `GET /api/exercise-block` - âœ… è·å–è®­ç»ƒç»„ï¼ˆæ”¯æŒç›¸åŒæŸ¥è¯¢å‚æ•°ï¼‰
- `POST /api/exercise-block` - âœ… åˆ›å»ºè®­ç»ƒç»„
- `PUT /api/exercise-block/[date]/[exercise]` - âœ… æ›´æ–°è®­ç»ƒç»„ï¼ˆè·¯å¾„ä¸åŒï¼‰
- `DELETE /api/exercise-block` - âœ… åˆ é™¤æ‰€æœ‰è®­ç»ƒç»„
- `DELETE /api/exercise-block/[date]/[exercise]` - âœ… åˆ é™¤ç‰¹å®šè®­ç»ƒç»„

**å·®å¼‚ï¼š**
- âš ï¸ å‘½åï¼š`exercise-block` vs `workoutset`ï¼Œè¯­ä¹‰æ›´æ¸…æ™°
- âš ï¸ è·¯å¾„ç»“æ„æ›´ç¬¦åˆ RESTful è§„èŒƒ

---

### 5. Set API

#### Django åç«¯
- `GET /api/sets` - è·å–è®­ç»ƒç»„çš„æ‰€æœ‰ç»„ï¼ˆéœ€è¦ `workout_date` å’Œ `exercise_name` å‚æ•°ï¼‰
- `PUT /api/set/{set_id}` - æ›´æ–°å•ä¸ªç»„
- `DELETE /api/set/{set_id}` - åˆ é™¤å•ä¸ªç»„ï¼ˆè‡ªåŠ¨é‡æ–°ç¼–å·ï¼‰

#### Next.js åç«¯
- `GET /api/set` - âœ… è·å–è®­ç»ƒç»„çš„æ‰€æœ‰ç»„ï¼ˆéœ€è¦ `workout_date` å’Œ `exercise_name` æŸ¥è¯¢å‚æ•°ï¼‰
- `PUT /api/set/[id]` - âœ… æ›´æ–°å•ä¸ªç»„
- `DELETE /api/set/[id]` - âœ… åˆ é™¤å•ä¸ªç»„ï¼ˆè‡ªåŠ¨é‡æ–°ç¼–å·ï¼‰

**å·®å¼‚ï¼š**
- âœ… å®Œå…¨ä¸€è‡´

---

### 6. ä¸Šæ¬¡è®­ç»ƒæ•°æ® API

#### Django åç«¯
- `GET /api/last-workout-first-set` - è·å–ä¸Šæ¬¡è®­ç»ƒçš„ç¬¬ä¸€ç»„ï¼ˆæ”¯æŒ `exercise_id` æˆ– `exercise_name`ï¼‰
- `GET /api/last-workout-all-sets` - è·å–ä¸Šæ¬¡è®­ç»ƒçš„æ‰€æœ‰ç»„ï¼ˆæ”¯æŒ `exercise_id` æˆ– `exercise_name`ï¼‰

#### Next.js åç«¯
- `GET /api/workout/last/sets/first` - âœ… è·å–ä¸Šæ¬¡è®­ç»ƒçš„ç¬¬ä¸€ç»„ï¼ˆæ”¯æŒç›¸åŒå‚æ•°ï¼‰
- `GET /api/workout/last/sets` - âœ… è·å–ä¸Šæ¬¡è®­ç»ƒçš„æ‰€æœ‰ç»„ï¼ˆæ”¯æŒç›¸åŒå‚æ•°ï¼‰

**å·®å¼‚ï¼š**
- âš ï¸ è·¯å¾„ç»“æ„ä¸åŒï¼Œä½†åŠŸèƒ½å®Œå…¨ä¸€è‡´
- Next.js ç‰ˆæœ¬è·¯å¾„æ›´ç¬¦åˆ RESTful å±‚çº§ç»“æ„

---

### 7. ç”¨æˆ·ç®¡ç† API

#### Django åç«¯
- ä½¿ç”¨ Django å†…ç½®è®¤è¯ç³»ç»Ÿ
- æ— ç‹¬ç«‹ç”¨æˆ· APIï¼ˆé€šè¿‡ Django Adminï¼‰

#### Next.js åç«¯
- `GET /api/user/me` - âœ… è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /api/user/profile` - âœ… è·å–ç”¨æˆ·èµ„æ–™
- `PATCH /api/user/profile` - âœ… æ›´æ–°ç”¨æˆ·èµ„æ–™
- `POST /api/user/password` - âœ… ä¿®æ”¹å¯†ç 
- `POST /api/auth/signup` - âœ… ç”¨æˆ·æ³¨å†Œ
- `POST /api/auth/[...nextauth]` - âœ… NextAuth è®¤è¯

**å·®å¼‚ï¼š**
- âœ… Next.js ç‰ˆæœ¬æä¾›äº†æ›´å®Œæ•´çš„ç”¨æˆ·ç®¡ç† API

---

## âš ï¸ å‘ç°çš„å·®å¼‚

### 1. è·¯å¾„å‘½åå·®å¼‚

| Django | Next.js | è¯´æ˜ |
|--------|---------|------|
| `/api/bodypart` | `/api/body-part` | kebab-case æ›´è§„èŒƒ |
| `/api/workoutset` | `/api/exercise-block` | å‘½åæ›´è¯­ä¹‰åŒ– |
| `/api/exercise/{id}/patch` | `/api/exercise/[id]` | RESTful æ–¹æ³•æ›´è§„èŒƒ |
| `/api/exercise/{id}/delete` | `/api/exercise/[id]` | RESTful æ–¹æ³•æ›´è§„èŒƒ |
| `/api/workout/add-body-parts/{date}` | `/api/workout/[date]/body-parts` | RESTful è·¯å¾„æ›´è§„èŒƒ |
| `/api/workout/remove-body-parts/{date}` | `/api/workout/[date]/body-parts` | RESTful æ–¹æ³•æ›´è§„èŒƒ |
| `/api/last-workout-first-set` | `/api/workout/last/sets/first` | å±‚çº§ç»“æ„æ›´æ¸…æ™° |
| `/api/last-workout-all-sets` | `/api/workout/last/sets` | å±‚çº§ç»“æ„æ›´æ¸…æ™° |

### 2. HTTP æ–¹æ³•å·®å¼‚

| åŠŸèƒ½ | Django | Next.js | è¯´æ˜ |
|------|--------|---------|------|
| æ·»åŠ èº«ä½“éƒ¨ä½ | `PUT` | `POST` | Next.js æ›´ç¬¦åˆ RESTfulï¼ˆåˆ›å»ºèµ„æºï¼‰ |
| ç§»é™¤èº«ä½“éƒ¨ä½ | `PUT` | `DELETE` | Next.js æ›´ç¬¦åˆ RESTfulï¼ˆåˆ é™¤å…³è”ï¼‰ |

### 3. ç¼ºå¤±çš„åŠŸèƒ½

- âš ï¸ `/api/workout/create` ç‹¬ç«‹ç«¯ç‚¹ï¼ˆä½†å¯é€šè¿‡ `POST /api/workout?createOrGet=true` å®ç°ï¼‰

---

## âœ… åŠŸèƒ½å®Œæ•´æ€§è¯„ä¼°

### æ ¸å¿ƒåŠŸèƒ½ï¼š100% ä¸€è‡´ âœ…

æ‰€æœ‰æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½éƒ½å·²å®Œæ•´è¿ç§»ï¼š
- âœ… Workout CRUD
- âœ… BodyPart CRUD
- âœ… Exercise CRUD
- âœ… ExerciseBlock/WorkoutSet CRUD
- âœ… Set CRUD
- âœ… ä¸Šæ¬¡è®­ç»ƒæ•°æ®æŸ¥è¯¢
- âœ… ç”¨æˆ·è®¤è¯å’Œç®¡ç†

### æ”¹è¿›ç‚¹

Next.js ç‰ˆæœ¬åœ¨ä»¥ä¸‹æ–¹é¢æœ‰æ”¹è¿›ï¼š
1. **æ›´ç¬¦åˆ RESTful è§„èŒƒ**ï¼šä½¿ç”¨æ ‡å‡† HTTP æ–¹æ³•å’Œè·¯å¾„ç»“æ„
2. **è·¯å¾„å‘½åæ›´è§„èŒƒ**ï¼šä½¿ç”¨ kebab-caseï¼Œè¯­ä¹‰æ›´æ¸…æ™°
3. **ç”¨æˆ·ç®¡ç†æ›´å®Œå–„**ï¼šæä¾›äº†å®Œæ•´çš„ç”¨æˆ· API

---

## ğŸ“ å»ºè®®

### 1. è·¯å¾„å…¼å®¹æ€§ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦ä¿æŒä¸ Django åç«¯çš„å®Œå…¨å…¼å®¹ï¼Œå¯ä»¥è€ƒè™‘ï¼š
- æ·»åŠ è·¯å¾„åˆ«åï¼ˆé€šè¿‡ Next.js middleware æˆ– rewriteï¼‰
- æˆ–æ›´æ–°å‰ç«¯ä»£ç ä»¥ä½¿ç”¨æ–°çš„è·¯å¾„

### 2. æ–‡æ¡£æ›´æ–°

å»ºè®®æ›´æ–° API æ–‡æ¡£ï¼Œåæ˜ æ–°çš„è·¯å¾„ç»“æ„ã€‚

### 3. æµ‹è¯•éªŒè¯

å»ºè®®è¿›è¡Œç«¯åˆ°ç«¯æµ‹è¯•ï¼Œç¡®ä¿æ‰€æœ‰åŠŸèƒ½æ­£å¸¸å·¥ä½œã€‚

---

## ğŸ¯ ç»“è®º

**âœ… Next.js åç«¯åŠŸèƒ½ä¸ Django åç«¯å®Œå…¨ä¸€è‡´**

æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½éƒ½å·²å®Œæ•´è¿ç§»ï¼Œå¹¶ä¸”åœ¨ä»¥ä¸‹æ–¹é¢æœ‰æ‰€æ”¹è¿›ï¼š
- æ›´ç¬¦åˆ RESTful è§„èŒƒ
- è·¯å¾„å‘½åæ›´è§„èŒƒ
- ç”¨æˆ·ç®¡ç†æ›´å®Œå–„

**è¿ç§»çŠ¶æ€ï¼š** âœ… **å®Œæˆ**

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´ï¼š** 2026-01-02

